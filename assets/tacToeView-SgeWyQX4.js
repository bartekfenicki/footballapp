import{_ as H,f as d,j as le,g as oe,k as se,c as p,b as s,i as x,w as E,e as R,l as D,a as V,t as B,F as L,r as re,o as u,m as z,p as W,T as q}from"./index-ClymVww4.js";import{p as g}from"./players-CzooAsYO.js";import{s as J,A as ie}from"./startGameBtn-BV-HbcGY.js";const ce={components:{AutoInput:ie,startGameBtn:J},setup(){const m=d({name:"",symbol:"P1"}),n=d({name:"",symbol:"P2"}),f=d(m.value),a=d(!1),h=d(null),C=d(15),i=d([]),_=e=>[...e].sort(()=>Math.random()-.5);let r;le(()=>{});const b=d([]),w=d([]),K=oe(()=>g.map(e=>e.name)),Q=e=>g.find(t=>t.name===e),N=d(new Set),G=new Map;for(const e of g){const t=[e.current_club,...e.previous_clubs];for(const l of t){const o=`${l}|||${e.nationality}`;G.has(o)||G.set(o,[]),G.get(o).push(e.name)}}console.log(G);const X=[...new Set(g.flatMap(e=>[e.current_club,...e.previous_clubs]))],P=[...new Set(g.map(e=>e.nationality))].reduce((e,t)=>(e[t]=[...new Set(g.filter(l=>l.nationality===t).flatMap(l=>[l.current_club,...l.previous_clubs]))],e),{});console.log(P);const M=X.reduce((e,t)=>(e[t]=[...new Set(g.filter(l=>[l.current_club,...l.previous_clubs].includes(t)).map(l=>l.nationality))],e),{});console.log(M);const T=[],A=Object.keys(M);for(let e=0;e<A.length;e++){const t=A[e],l=new Set(M[t]);for(let o=e+1;o<A.length;o++){const c=A[o],y=new Set(M[c]);[...l].filter(v=>y.has(v)).length>=3&&(T.includes(t)||T.push(t),T.includes(c)||T.push(c))}}console.log(T);const S=[],I=Object.keys(P);for(let e=0;e<I.length;e++){const t=I[e],l=new Set(P[t]);for(let o=e+1;o<I.length;o++){const c=I[o],y=new Set(P[c]);[...l].filter(v=>y.has(v)).length>=3&&(S.includes(t)||S.push(t),S.includes(c)||S.push(c))}}console.log(S);function Y(){for(let t=0;t<1e3;t++){const l=_(T).slice(0,3),o=_(S).slice(0,3),c=new Set;let y=!0;for(let k=0;k<3;k++){for(let v=0;v<3;v++){const F=`${l[v]}|||${o[k]}`,O=_(G.get(F)||[]).filter(ne=>!c.has(ne));if(O.length===0){y=!1;break}c.add(O[0])}if(!y)break}if(y){b.value=l,w.value=o;return}}alert("Couldn't generate a valid 3x3 grid. Add more player diversity."),a.value=!1}const Z=e=>{const t=Math.floor(e/3),l=e%3,o=w.value[l]||"?",c=b.value[t]||"?";return`${o} | ${c}`},$=()=>{if(!m.value.name||!n.value.name){alert("Both players must enter names.");return}if(!g){alert("Not enough player data loaded to start the game.");return}Y(),i.value=Array.from({length:9},()=>({input:"",played:null})),f.value=m.value,a.value=!0,j()},j=()=>{clearInterval(r),C.value=15,r=setInterval(()=>{C.value--,C.value===0&&U()},1e3)},U=()=>{f.value=f.value===m.value?n.value:m.value,j()},ee=(e,t)=>{const l=i.value[e];if(l.played||h.value)return;const o=Q(t);if(!o){alert("Invalid player");return}if(N.value.has(t)){alert("This player has already been used in another cell.");return}const c=Math.floor(e/3),y=e%3,k=[o.current_club,...o.previous_clubs].includes(b.value[c]),v=o.nationality===w.value[y];k&&v?(l.played=t,N.value.add(t),clearInterval(r),te()?h.value=f.value.name:i.value.every(F=>F.played)?h.value="Draw":U()):alert("Player does not match category requirements.")},te=()=>[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].some(([t,l,o])=>i.value[t].played&&i.value[t].played===i.value[l].played&&i.value[t].played===i.value[o].played),ae=()=>{i.value=[],h.value=null,N.value.clear(),a.value=!1,clearInterval(r)};return se(()=>clearInterval(r)),{player1:m,player2:n,currentPlayer:f,gameStarted:a,board:i,winner:h,timer:C,playerNames:K,startGame:$,resetGame:ae,makeMove:ee,getCategory:Z,usedPlayers:N}}},ue={class:"game-container"},de={key:0,class:"setup"},me={class:"input-group"},pe={class:"input-group"},ye={key:1,class:"game"},ve={class:"board"},fe={class:"cell-clue"},ge={key:1,class:"cell-value"},he={key:0},_e={key:1};function be(m,n,f,a,h,C){const i=D("startGameBtn"),_=D("auto-input");return u(),p("div",ue,[a.gameStarted?(u(),p("div",ye,[s("h2",null,B(a.currentPlayer.name)+"'s turn",1),s("p",null,"Time left: "+B(a.timer)+"s",1),s("div",ve,[(u(!0),p(L,null,re(a.board,(r,b)=>(u(),p("div",{key:b,class:"cell"},[s("div",fe,B(a.getCategory(b)),1),!a.winner&&!r.played?(u(),z(_,{key:0,suggestions:a.playerNames,modelValue:r.input,"onUpdate:modelValue":w=>r.input=w,onSubmitted:w=>a.makeMove(b,w)},null,8,["suggestions","modelValue","onUpdate:modelValue","onSubmitted"])):(u(),p("div",ge,B(r.played),1))]))),128))]),a.winner&&a.winner!=="Draw"?(u(),p("p",he,"Winner: "+B(a.winner),1)):V("",!0),a.winner==="Draw"?(u(),p("p",_e,"It's a Draw!")):V("",!0),a.winner?(u(),p("button",{key:2,onClick:n[2]||(n[2]=(...r)=>a.resetGame&&a.resetGame(...r))},"Restart")):V("",!0)])):(u(),p("div",de,[n[5]||(n[5]=s("h2",null,"Football Tic Tac Toe Setup",-1)),s("div",me,[n[3]||(n[3]=s("label",{for:"player1"},"Player 1 Name:",-1)),E(s("input",{id:"player1","onUpdate:modelValue":n[0]||(n[0]=r=>a.player1.name=r),type:"text",placeholder:"Enter name"},null,512),[[R,a.player1.name]])]),s("div",pe,[n[4]||(n[4]=s("label",{for:"player2"},"Player 2 Name:",-1)),E(s("input",{id:"player2","onUpdate:modelValue":n[1]||(n[1]=r=>a.player2.name=r),type:"text",placeholder:"Enter name"},null,512),[[R,a.player2.name]])]),x(i,{onClick:a.startGame},null,8,["onClick"])]))])}const we=H(ce,[["render",be],["__scopeId","data-v-1ea0afd1"]]),ke={name:"GuessCluesView",components:{ticTacToe:we,startGameBtn:J},setup(){const m=d(!1),n=d(!1);return{gameStarted:m,showGame:n,startGame:()=>{m.value=!0,setTimeout(()=>{n.value=!0},1e3)}}}},Ce={class:"container"},Te={key:"welcome",class:"welcome-container"};function Se(m,n,f,a,h,C){const i=D("startGameBtn"),_=D("ticTacToe");return u(),p(L,null,[s("div",Ce,[x(q,{name:"fade",mode:"out-in"},{default:W(()=>[a.gameStarted?V("",!0):(u(),p("div",Te,[n[0]||(n[0]=s("h1",{class:"title"},"Football Tic Tac Toe",-1)),n[1]||(n[1]=s("p",{class:"rules-heading"},"Here are the rules:",-1)),n[2]||(n[2]=s("ul",{class:"rules-list"},[s("li",null,"There will be a cetegory assigned to each row and column"),s("li",null,"In order to tick a box you will have to assign a matching Player"),s("li",null,"After 15 seconds the turn switches to the second Player"),s("li",null,"Match 3 boxes in a row to win the game!")],-1)),x(i,{onClick:a.startGame},null,8,["onClick"])]))]),_:1})]),x(q,{name:"slide"},{default:W(()=>[a.showGame?(u(),z(_,{key:"game"})):V("",!0)]),_:1})],64)}const Me=H(ke,[["render",Se],["__scopeId","data-v-19921f79"]]);export{Me as default};
